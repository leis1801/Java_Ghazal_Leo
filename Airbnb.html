<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <link rel="stylesheet" type="text/css" href="Aibnb_style.css">
   <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
   <title> Aibnb Graphs </title>
</head>

<script
    type = "text/javascript" src="Airbnb_plugin.js"> // kopplling till js filen 
</script>

<body>
    <h4> Scatter plot of rent prices vs count of reviews</h4>
    <div  id="scatterPlot"><!-- Plotly chart will be drawn inside this DIV --></div>
<br>
    <h4> A histogram showing the spread of rental prices </h4>
    <div id="priceHistogram"><!-- Plotly chart will be drawn inside this DIV --></div>
<br>
    <h4> A histogram showing the spread of the number of guests (accomodates) </h4>
    <div id="guestHistogram"><!-- Plotly chart will be drawn inside this DIV --></div>
<br>
    <h4>A pie chart showing the percentage of each type of room "room_type" 
        has of the total number object</h4>
    <div id="piechart" >  <!-- Plotly chart will be drawn inside this DIV --></div>
</body>

<script>
    var prices = []; // en lista skapas 
    for (i=0; i < airbnbData.length; i++) {
    prices.push (airbnbData[i].price)
};

    var reviews = [];
    for (i=0; i < airbnbData.length; i++) {
    reviews.push (airbnbData[i].reviews)
};  

    var priceRev = {
    x: prices,
    y: reviews,
    mode: 'markers',
    type: 'scatter'};

    var data = [priceRev];
    var layout = {
            title: "Price vs Reviews",
            xaxis: {title: "Prices"},
            yaxis: {title: "Reviews"},
  }
Plotly.newPlot('scatterPlot', data, layout);
</script>

<script>
    var rentPrices = []; // en lista skapas 
    for (i=0; i < airbnbData.length; i++) {
    rentPrices.push (airbnbData[i].price)
    };
     //Histogram for rent prices
     var priceHistogramData = [{
            x: rentPrices,
            xbins: {
                end: 800,
                size: 70,
                start: 0
            },
            type: 'histogram',
            marker: {color: 'gray',},
                
        }];
        //bestämmer layout på histogramet price/count
        var layout_rentPrice = {
            title: "Histogram for Rent Price",
            xaxis: {title: "Rent price"},
            yaxis: {title: "Count"},
        }

Plotly.newPlot('priceHistogram', priceHistogramData, layout_rentPrice );
</script>


<script>
var guests = []; // en lista skapas 
for (i=0; i < airbnbData.length; i++) {
guests.push (airbnbData[i].accommodates)
};

var room_type = []; // en lista skapas 
        for (i=0; i < airbnbData.length; i++) {
        room_type.push (airbnbData[i].room_type)
};
   
        //Histogram of number of guests (accomodates)
        var guestData = [{
            x: room_type,
            y: guests,
        
            type: 'histogram',
        }];
        // layout för histogram guest
        var layout_guest = {
            title: "Histogram Guest",
            xaxis: {title: "Room Type"},
            yaxis: {title: "Number of guests"},
        }

Plotly.newPlot('guestHistogram', guestData, layout_guest);
</script>

<script>
       
    
          var data_pie = [{
          values: guests,
          labels: room_type,
          type: 'pie'
        }];
      // layout för pie chart
        var layout = {
          height: 500,
          width: 500,
          title: "Pie Room"
        };
     
       Plotly.newPlot('piechart', data_pie, layout);
      </script>
      


           
</html>